{"version":3,"sources":["vue-notifications.es5.js"],"names":["root","factory","define","amd","exports","module","VueNotifications","this","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","getVersion","Vue","version","match","major","regular","minor","showInConsole","msg","type","types","error","console","warn","success","info","log","showDefaultMessage","_ref","message","title","debugMsg","TYPE","getValues","vueApp","config","result","keepFnFields","keys","forEach","field","fnField","bind","call","showMessage","options","valuesObj","isMethodOverridden","method","cb","addMethods","targetObj","typesObj","v","setMethod","name","pluginOptions","methods","MESSAGES","methodNameConflict","makeMethod","configName","newConfig","assign","propertyName","initVueNotificationPlugin","notifications","$options","$emit","PACKAGE_NAME","launchWatchableNotifications","watch","unlinkVueNotificationPlugin","attachedMethods","undefined","makeMixin","_ref2","VUE_VERSION","init","vueAppOptions","notificationsField","mounted","destroy","PLUGIN_NAME","PROPERTY_NAME","1","2","alreadyInstalled","timeout","installed","install","arguments","length","mixin","window","use"],"mappings":"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","file":"vue-notifications.es5.min.js","sourcesContent":[";(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.VueNotifications = factory();\n  }\n}(this, function() {\n'use strict';\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar PLUGIN_NAME = 'VueNotifications';\nvar PACKAGE_NAME = 'vue-notifications';\nvar PROPERTY_NAME = '$n';\n\nvar TYPE = {\n  error: 'error',\n  warn: 'warn',\n  info: 'info',\n  success: 'success'\n};\n\nvar VUE_VERSION = {\n  1: {\n    init: 'init',\n    destroy: 'beforeDestroy',\n    mounted: 'compiled'\n  },\n  2: {\n    init: 'beforeCreate',\n    destroy: 'beforeDestroy',\n    mounted: 'mounted'\n  }\n};\n\nvar MESSAGES = {\n  alreadyInstalled: PLUGIN_NAME + ': plugin already installed',\n  methodNameConflict: PLUGIN_NAME + ': names conflict - '\n};\n\nfunction getVersion(Vue) {\n  var version = Vue.version.match(/(\\d+)/g);\n  return {\n    major: +version[0],\n    regular: +version[1],\n    minor: +version[2]\n  };\n}\n\nfunction showInConsole(msg, type, types) {\n  if (type === types.error) console.error(msg);else if (type === types.warn) console.warn(msg);else if (type === types.success) console.info(msg);else console.log(msg);\n}\n\nfunction showDefaultMessage(_ref) {\n  var type = _ref.type,\n      message = _ref.message,\n      title = _ref.title,\n      debugMsg = _ref.debugMsg;\n\n  var msg = 'Title: ' + title + ', Message: ' + message + ', DebugMsg: ' + debugMsg + ', type: ' + type;\n\n  showInConsole(msg, type, TYPE);\n\n  return msg;\n}\n\nfunction getValues(vueApp, config) {\n  var result = {};\n  var keepFnFields = ['cb', 'watch'];\n\n  Object.keys(config).forEach(function (field) {\n    keepFnFields.forEach(function (fnField) {\n      if (field === fnField) {\n        result[field] = config[field].bind(vueApp);\n      } else {\n        result[field] = typeof config[field] === 'function' ? config[field].call(vueApp) : config[field];\n      }\n    });\n  });\n\n  return result;\n}\n\nfunction showMessage(config, options, vueApp) {\n  var valuesObj = getValues(vueApp, config);\n\n  var isMethodOverridden = options && options[valuesObj.type];\n  var method = isMethodOverridden ? options[valuesObj.type] : showDefaultMessage;\n  method(valuesObj, vueApp);\n\n  if (config.cb) return config.cb();\n}\n\nfunction addMethods(targetObj, typesObj, options) {\n  Object.keys(typesObj).forEach(function (v) {\n    targetObj[typesObj[v]] = function (config) {\n      config.type = typesObj[v];\n      // TODO (S.Panfilov)fix 'vueApp' in param\n      return showMessage(config, options);\n    };\n  });\n}\n\nfunction setMethod(vueApp, name, options, pluginOptions) {\n  if (!options.methods) options.methods = {};\n\n  if (options.methods[name]) {\n    // TODO (S.Panfilov) not sure - throw error here or just warn\n    console.error(MESSAGES.methodNameConflict + name);\n  } else {\n    options.methods[name] = makeMethod(vueApp, name, options, pluginOptions);\n  }\n}\n\nfunction makeMethod(vueApp, configName, options, pluginOptions) {\n  return function (config) {\n    var newConfig = {};\n    Object.assign(newConfig, VueNotifications.config);\n    Object.assign(newConfig, options[VueNotifications.propertyName][configName]);\n    Object.assign(newConfig, config);\n\n    return showMessage(newConfig, pluginOptions, vueApp);\n  };\n}\n\nfunction initVueNotificationPlugin(vueApp, notifications, pluginOptions) {\n  if (!notifications) return;\n  Object.keys(notifications).forEach(function (name) {\n    setMethod(vueApp, name, vueApp.$options, pluginOptions);\n  });\n\n  vueApp.$emit(PACKAGE_NAME + '-initiated');\n}\n\nfunction launchWatchableNotifications(vueApp, notifications) {\n  if (!notifications) return;\n  Object.keys(notifications).forEach(function (name) {\n    if (vueApp[name] && notifications[name].watch) {\n      vueApp[name]();\n    }\n  });\n\n  vueApp.$emit(PACKAGE_NAME + '-launched_watchable');\n}\n\nfunction unlinkVueNotificationPlugin(vueApp, notifications) {\n  if (!notifications) return;\n  var attachedMethods = vueApp.$options.methods;\n  Object.keys(notifications).forEach(function (name) {\n    if (attachedMethods[name]) {\n      attachedMethods[name] = undefined;\n      delete attachedMethods[name];\n    }\n  });\n\n  vueApp.$emit(PACKAGE_NAME + '-unlinked');\n}\n\nfunction makeMixin(Vue, pluginOptions) {\n  var _ref2;\n\n  var version = getVersion(Vue).major;\n\n  // TODO (S.Panfilov) this?\n  // TODO (S.Panfilov) : function () { ?\n\n  return _ref2 = {}, _defineProperty(_ref2, VUE_VERSION[version].init, function () {\n    var vueApp = this;\n    var vueAppOptions = this.$options;\n    var notificationsField = vueAppOptions[VueNotifications.propertyName];\n\n    initVueNotificationPlugin(vueApp, notificationsField, pluginOptions);\n  }), _defineProperty(_ref2, VUE_VERSION[version].mounted, function () {\n    var vueApp = this;\n    var vueAppOptions = this.$options;\n    var notificationsField = vueAppOptions[VueNotifications.propertyName];\n\n    launchWatchableNotifications(vueApp, notificationsField);\n  }), _defineProperty(_ref2, VUE_VERSION[version].destroy, function () {\n    var vueApp = this;\n    var vueAppOptions = this.$options;\n    var notificationsField = vueAppOptions[VueNotifications.propertyName];\n    unlinkVueNotificationPlugin(vueApp, notificationsField);\n  }), _ref2;\n}\n\nvar VueNotifications = {\n  type: TYPE,\n  propertyName: PROPERTY_NAME,\n  config: {\n    type: TYPE.info,\n    timeout: 3000\n  },\n  installed: false,\n  install: function install(Vue) {\n    var pluginOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    if (this.installed) throw console.error(MESSAGES.alreadyInstalled);\n    var mixin = makeMixin(Vue, pluginOptions);\n    Vue.mixin(mixin);\n\n    addMethods(this, this.type, pluginOptions);\n\n    this.installed = true;\n  }\n};\n\nif (typeof window !== 'undefined' && window.Vue) {\n  window.Vue.use(VueNotifications);\n}\nreturn VueNotifications;\n}));\n"]}